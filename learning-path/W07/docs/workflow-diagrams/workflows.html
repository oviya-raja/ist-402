<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workflow Diagrams - OpenAI Agent Builder</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8fafc;
            min-height: 100vh;
            padding: 15px;
            color: #1e293b;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #1e293b;
        }
        
        .header-links {
            text-align: center;
            color: #64748b;
            margin-bottom: 15px;
            font-size: 0.85rem;
        }
        
        .workflow-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 8px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 10px 20px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px 6px 0 0;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            color: #64748b;
            transition: all 0.2s ease;
            border-bottom: none;
        }
        
        .tab:hover {
            background: #f1f5f9;
            color: #475569;
        }
        
        .tab.active {
            background: #ffffff;
            color: #1e293b;
            border-color: #e2e8f0;
            border-bottom: 2px solid #ffffff;
            margin-bottom: -2px;
            font-weight: 600;
        }
        
        .workflow-content {
            display: none;
        }
        
        .workflow-content.active {
            display: block;
        }
        
        .workflow-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #1e293b;
        }
        
        .workflow-subtitle {
            font-size: 0.8rem;
            color: #64748b;
            margin-bottom: 15px;
        }
        
        .workflow-canvas {
            position: relative;
            padding: 30px 15px;
            background: #f8fafc;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            overflow-y: visible;
            -webkit-overflow-scrolling: touch;
        }
        
        .workflow-flow {
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            min-width: fit-content;
            padding: 15px 0;
            transform-origin: left center;
        }
        
        .node-wrapper {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-shrink: 0;
        }
        
        .node {
            position: relative;
            min-width: 120px;
            max-width: 140px;
            padding: 12px 14px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 500;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s ease;
            background: #ffffff;
            border: 2px solid #334155;
            text-align: center;
        }
        
        .node:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-color: #475569;
            z-index: 10;
        }
        
        .node.trigger {
            background: #f1f5f9;
            border-color: #10b981;
            color: #059669;
        }
        
        .node.agent {
            background: #eff6ff;
            border-color: #3b82f6;
            color: #2563eb;
        }
        
        .node.condition {
            background: #fff7ed;
            border-color: #f59e0b;
            color: #d97706;
        }
        
        .node.action {
            background: #f5f3ff;
            border-color: #8b5cf6;
            color: #7c3aed;
        }
        
        .node.end {
            background: #f1f5f9;
            border-color: #10b981;
            color: #059669;
        }
        
        .node.error {
            background: #fef2f2;
            border-color: #ef4444;
            color: #dc2626;
        }
        
        .node-label {
            display: block;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 4px;
            color: #1e293b;
            line-height: 1.2;
        }
        
        .node-type {
            display: block;
            font-size: 0.7rem;
            opacity: 0.8;
            margin-top: 4px;
            color: #64748b;
        }
        
        .connector {
            width: 25px;
            height: 2px;
            background: #334155;
            position: relative;
            flex-shrink: 0;
        }
        
        .connector::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-left: 7px solid #334155;
        }
        
        .note {
            background: #fef3c7;
            color: #92400e;
            padding: 6px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            max-width: 160px;
            position: absolute;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #fde68a;
            line-height: 1.4;
            z-index: 20;
            display: none;
        }
        
        .node-wrapper:hover .note {
            display: block;
        }
        
        .note-top {
            bottom: calc(100% + 6px);
            left: 50%;
            transform: translateX(-50%);
            white-space: normal;
        }
        
        .note-bottom {
            top: calc(100% + 6px);
            left: 50%;
            transform: translateX(-50%);
            white-space: normal;
        }
        
        .instructions-panel {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .instructions-panel h2 {
            color: #1e293b;
            font-size: 1rem;
            margin-bottom: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .instructions-panel h2::after {
            content: '▼';
            font-size: 0.8rem;
            transition: transform 0.3s;
        }
        
        .instructions-panel.collapsed h2::after {
            transform: rotate(-90deg);
        }
        
        .instructions-content {
            max-height: 500px;
            overflow-y: auto;
        }
        
        .instructions-panel.collapsed .instructions-content {
            display: none;
        }
        
        .instruction-step {
            background: #ffffff;
            border-left: 3px solid #3b82f6;
            padding: 12px 15px;
            margin: 8px 0;
            border-radius: 4px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .instruction-step h3 {
            color: #3b82f6;
            font-size: 0.85rem;
            margin-bottom: 6px;
            font-weight: 600;
        }
        
        .instruction-step ol {
            margin-left: 18px;
            color: #475569;
            font-size: 0.8rem;
        }
        
        .instruction-step li {
            margin: 3px 0;
            line-height: 1.5;
        }
        
        .code-snippet {
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            padding: 8px;
            margin: 8px 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.75rem;
            color: #334155;
            overflow-x: auto;
        }
        
        .back-link {
            position: fixed;
            top: 15px;
            left: 15px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            color: #475569;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            font-size: 0.75rem;
            transition: all 0.2s ease;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            z-index: 1000;
        }
        
        .back-link:hover {
            background: #f8fafc;
            border-color: #3b82f6;
            color: #3b82f6;
        }
        
        a {
            color: #3b82f6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        .legend {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 15px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            font-size: 0.75rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            border: 2px solid;
        }
        
        .legend-color.trigger { background: #f1f5f9; border-color: #10b981; }
        .legend-color.agent { background: #eff6ff; border-color: #3b82f6; }
        .legend-color.condition { background: #fff7ed; border-color: #f59e0b; }
        .legend-color.action { background: #f5f3ff; border-color: #8b5cf6; }
        .legend-color.end { background: #f1f5f9; border-color: #10b981; }
        .legend-color.error { background: #fef2f2; border-color: #ef4444; }
        
        .zoom-controls {
            text-align: center;
            margin-bottom: 10px;
            font-size: 0.8rem;
            color: #64748b;
        }
        
        .zoom-controls button {
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            margin: 0 4px;
            font-size: 0.75rem;
        }
        
        .zoom-controls button:hover {
            background: #e2e8f0;
        }
    </style>
</head>
<body>
    <a href="../03-workflows.md" class="back-link">← Back</a>
    
    <div class="container">
        <h1>Workflow Diagrams - OpenAI Agent Builder</h1>
        <p class="header-links">
            Based on <a href="https://platform.openai.com/docs/guides/agent-builder" target="_blank">OpenAI Agent Builder Documentation</a> | 
            <a href="https://platform.openai.com/agent-builder/" target="_blank">Open Agent Builder</a>
        </p>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color trigger"></div>
                <span>Trigger / End</span>
            </div>
            <div class="legend-item">
                <div class="legend-color agent"></div>
                <span>Agent</span>
            </div>
            <div class="legend-item">
                <div class="legend-color condition"></div>
                <span>If / Else</span>
            </div>
            <div class="legend-item">
                <div class="legend-color action"></div>
                <span>Action / Tools</span>
            </div>
        </div>
        
        <div class="workflow-tabs">
            <div class="tab active" onclick="showWorkflow('workflow1', this)">Workflow 1: Job Search</div>
            <div class="tab" onclick="showWorkflow('workflow2', this)">Workflow 2: Qualification Check</div>
        </div>
        
        <!-- Workflow 1: Job Search & Fitment Analysis -->
        <div id="workflow1" class="workflow-content active">
            <div class="workflow-title">Workflow 1: Job Search & Fitment Analysis</div>
            <p class="workflow-subtitle">Follow this left-to-right flow to recreate in OpenAI Agent Builder</p>
            
            <div class="zoom-controls">
                <button onclick="zoomWorkflow('workflow1', 0.8)">Zoom Out</button>
                <button onclick="zoomWorkflow('workflow1', 1)">Reset</button>
                <button onclick="zoomWorkflow('workflow1', 1.2)">Zoom In</button>
            </div>
            
            <div class="workflow-canvas" id="canvas-workflow1">
                <div class="workflow-flow" id="flow-workflow1">
                    <div class="node-wrapper">
                        <div class="note note-top">User provides profile with skills, experience, and target companies</div>
                        <div class="node trigger">
                            <span class="node-label">User Input</span>
                            <span class="node-type">Agent (Trigger)</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Validate profile contains required fields</div>
                        <div class="note note-bottom">Invalid → Return Error → End</div>
                        <div class="node condition">
                            <span class="node-label">Validate Input</span>
                            <span class="node-type">If / Else</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Read target-companies.csv, filter active companies</div>
                        <div class="node action">
                            <span class="node-label">Load Companies</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Search job sites for each target company</div>
                        <div class="node action">
                            <span class="node-label">Search Job Sites</span>
                            <span class="node-type">Tools</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Check if any jobs were found</div>
                        <div class="note note-bottom">No → Return No Results → End</div>
                        <div class="node condition">
                            <span class="node-label">Jobs Found?</span>
                            <span class="node-type">If / Else</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Parse job postings to extract details</div>
                        <div class="node action">
                            <span class="node-label">Extract Job Details</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Compare each job against user profile</div>
                        <div class="node agent">
                            <span class="node-label">Analyze Profile Match</span>
                            <span class="node-type">Agent</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Calculate fitment percentage for each job</div>
                        <div class="node action">
                            <span class="node-label">Calculate Fitment</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Identify missing skills and qualifications</div>
                        <div class="node action">
                            <span class="node-label">Identify Skill Gaps</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Sort by fitment score, apply priority weighting</div>
                        <div class="node action">
                            <span class="node-label">Rank Results</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Return ranked list with fitment scores</div>
                        <div class="node end">
                            <span class="node-label">End</span>
                            <span class="node-type">End</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="instructions-panel">
                <h2 onclick="toggleInstructions(this)">Step-by-Step Setup Instructions for OpenAI Agent Builder</h2>
                <div class="instructions-content">
                    <div class="instruction-step">
                        <h3>Step 1: Create New Workflow</h3>
                        <ol>
                            <li>Go to <a href="https://platform.openai.com/agent-builder/" target="_blank">OpenAI Agent Builder</a></li>
                            <li>Click "Create Workflow" or "New Workflow"</li>
                            <li>Name it: "Job Search & Fitment Analysis"</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 2: Add User Input Agent (Trigger)</h3>
                        <ol>
                            <li>Drag "Agent" node from <strong>Core</strong> section to canvas</li>
                            <li>This is your entry point - configure as "User Input"</li>
                            <li>Set input schema: <code>profile</code> (object with: skills, experience, education, target_companies)</li>
                            <li>Configure system prompt: "Accept user profile input for job search"</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 3: Add Validation Logic</h3>
                        <ol>
                            <li>Drag "If / Else" node from <strong>Logic</strong> section</li>
                            <li>Connect from User Input node (creates a typed edge)</li>
                            <li>Set condition: Check if profile has required fields (skills, experience, education)</li>
                            <li><strong>True branch:</strong> Continue to Load Companies</li>
                            <li><strong>False branch:</strong> Connect to End node with error message</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 4: Add Data Loading (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>Configure to read <code>target-companies.csv</code></li>
                            <li>Filter by <code>status='active'</code></li>
                            <li>Match user's target companies from profile</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 5: Add Web Scraping Tool</h3>
                        <ol>
                            <li>Drag a tool node from <strong>Tools</strong> section (e.g., "File search" or create custom tool)</li>
                            <li>Configure web scraping function for job sites</li>
                            <li>Set up to iterate over each company in the list</li>
                            <li>Connect tool to the workflow (tools extend agent capabilities)</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 6: Add Jobs Found Check</h3>
                        <ol>
                            <li>Drag "If / Else" node from <strong>Logic</strong> section</li>
                            <li>Set condition: Check if any jobs were found</li>
                            <li><strong>True branch:</strong> Continue to Extract Job Details</li>
                            <li><strong>False branch:</strong> Connect to End node with "No Results" message</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 7: Add Job Extraction (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>Configure to parse job postings and extract: title, description, requirements, skills, location</li>
                            <li>Structure the data for analysis</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 8: Add Analysis Agent</h3>
                        <ol>
                            <li>Drag "Agent" node from <strong>Core</strong> section</li>
                            <li>Name: "Profile Match Analysis Agent"</li>
                            <li>Configure system prompt (see below)</li>
                            <li>Connect knowledge base (Your Data) for profile matching if needed</li>
                            <li>Configure agent to receive job postings and user profile as input</li>
                        </ol>
                        <div class="code-snippet">
System Prompt:
You are a Job Fitment Analysis Agent. Analyze job postings against student profiles. 
Calculate fitment percentages based on skills, experience, and education matches.
Return structured analysis with matched skills, gaps, and fitment score.
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 9: Add Fitment Calculation (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>Calculate: <code>(matched_skills / total_required_skills) × 100</code></li>
                            <li>Apply weighting: required skills (40%), preferred skills (20%), experience (20%), education (20%)</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 10: Add Skill Gap Identification (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>Compare required skills vs user skills</li>
                            <li>List missing skills and qualifications</li>
                            <li>Identify experience gaps</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 11: Add Ranking Logic (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>Sort jobs by fitment score (descending)</li>
                            <li>Apply priority weighting (user's preferred companies get +10% boost)</li>
                            <li>Limit to top 10 results</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 12: Add End Node</h3>
                        <ol>
                            <li>Drag "End" node from <strong>Core</strong> section</li>
                            <li>Configure output format: JSON with ranked jobs, fitment scores, skill gaps</li>
                            <li>Connect from Rank Results node</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 13: Test and Publish</h3>
                        <ol>
                            <li>Use the <strong>Preview</strong> feature in Agent Builder to test interactively</li>
                            <li>Attach sample files and observe execution of each node</li>
                            <li>Provide sample profile input and verify each step executes correctly</li>
                            <li>Check output format and accuracy</li>
                            <li>Optionally use <strong>Evaluate</strong> to run trace graders and assess performance</li>
                            <li>When ready, click <strong>Publish</strong> to create a versioned workflow</li>
                            <li>Use the workflow ID in ChatKit or download Agent SDK code for deployment</li>
                        </ol>
                        <p style="margin-top: 10px; font-size: 0.8rem; color: #64748b;">
                            <strong>Note:</strong> Agent Builder auto-saves your work. Publishing creates a snapshot version. See <a href="https://platform.openai.com/docs/guides/agent-builder" target="_blank">official documentation</a> for detailed node configuration.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Workflow 2: Job Qualification Check -->
        <div id="workflow2" class="workflow-content">
            <div class="workflow-title">Workflow 2: Job Qualification Check</div>
            <p class="workflow-subtitle">Follow this left-to-right flow to recreate in OpenAI Agent Builder</p>
            
            <div class="zoom-controls">
                <button onclick="zoomWorkflow('workflow2', 0.8)">Zoom Out</button>
                <button onclick="zoomWorkflow('workflow2', 1)">Reset</button>
                <button onclick="zoomWorkflow('workflow2', 1.2)">Zoom In</button>
            </div>
            
            <div class="workflow-canvas" id="canvas-workflow2">
                <div class="workflow-flow" id="flow-workflow2">
                    <div class="node-wrapper">
                        <div class="note note-top">User provides job posting URL and profile</div>
                        <div class="node trigger">
                            <span class="node-label">Job URL Input</span>
                            <span class="node-type">Agent (Trigger)</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Validate URL format and profile provided</div>
                        <div class="note note-bottom">Invalid → Return Error → End</div>
                        <div class="node condition">
                            <span class="node-label">Validate URL</span>
                            <span class="node-type">If / Else</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Fetch job posting content from URL</div>
                        <div class="node action">
                            <span class="node-label">Access Job Posting</span>
                            <span class="node-type">Tools</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Verify job posting is accessible</div>
                        <div class="note note-bottom">No → Access Error → End</div>
                        <div class="node condition">
                            <span class="node-label">Posting Accessible?</span>
                            <span class="node-type">If / Else</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Parse job posting to extract requirements</div>
                        <div class="node action">
                            <span class="node-label">Extract Requirements</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Retrieve user profile from knowledge base</div>
                        <div class="node action">
                            <span class="node-label">Load User Profile</span>
                            <span class="node-type">Data</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Match job requirements against profile</div>
                        <div class="node agent">
                            <span class="node-label">Compare Requirements</span>
                            <span class="node-type">Agent</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Calculate fitment percentage</div>
                        <div class="node action">
                            <span class="node-label">Calculate Fitment</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">List matched skills and experience</div>
                        <div class="node action">
                            <span class="node-label">Identify Matches</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">List missing skills and qualifications</div>
                        <div class="node action">
                            <span class="node-label">Identify Gaps</span>
                            <span class="node-type">Transform</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Generate recommendation based on fitment score</div>
                        <div class="note note-bottom">≥80%: Apply | 60-79%: Consider | <60%: Improve</div>
                        <div class="node condition">
                            <span class="node-label">Generate Recommendation</span>
                            <span class="node-type">If / Else</span>
                        </div>
                    </div>
                    
                    <div class="connector"></div>
                    
                    <div class="node-wrapper">
                        <div class="note note-top">Return complete analysis with recommendation</div>
                        <div class="node end">
                            <span class="node-label">End</span>
                            <span class="node-type">End</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="instructions-panel">
                <h2 onclick="toggleInstructions(this)">Step-by-Step Setup Instructions for OpenAI Agent Builder</h2>
                <div class="instructions-content">
                    <div class="instruction-step">
                        <h3>Step 1: Create New Workflow</h3>
                        <ol>
                            <li>Go to <a href="https://platform.openai.com/agent-builder/" target="_blank">OpenAI Agent Builder</a></li>
                            <li>Click "Create Workflow"</li>
                            <li>Name it: "Job Qualification Check"</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 2: Add Job URL Input Agent (Trigger)</h3>
                        <ol>
                            <li>Drag "Agent" node from <strong>Core</strong> section to canvas</li>
                            <li>Configure as entry point: "Job URL Input"</li>
                            <li>Set input schema: <code>job_url</code> (string), <code>profile</code> (object)</li>
                            <li>Configure the agent's system prompt to accept job URL and profile</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 3: Add URL Validation</h3>
                        <ol>
                            <li>Drag "If / Else" node from <strong>Logic</strong> section</li>
                            <li>Set condition: Validate URL format and check profile exists</li>
                            <li><strong>True:</strong> Continue to Access Job Posting</li>
                            <li><strong>False:</strong> Connect to End node with error</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 4: Add Web Scraping Tool</h3>
                        <ol>
                            <li>Drag tool from <strong>Tools</strong> section</li>
                            <li>Configure to fetch job posting from URL</li>
                            <li>Add error handling for inaccessible URLs</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 5: Add Posting Accessibility Check</h3>
                        <ol>
                            <li>Drag "If / Else" node from <strong>Logic</strong> section</li>
                            <li>Set condition: Verify job posting is accessible</li>
                            <li><strong>True:</strong> Continue to Extract Requirements</li>
                            <li><strong>False:</strong> Connect to End node with "Access Error"</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 6: Add Extraction Logic (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>Configure to extract: required skills, preferred skills, experience, education</li>
                            <li>Parse job posting content</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 7: Add Profile Loading (Data)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>Configure to retrieve user profile from knowledge base</li>
                            <li>Or use profile from input if provided</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 8: Add Comparison Agent</h3>
                        <ol>
                            <li>Drag "Agent" node from <strong>Core</strong> section</li>
                            <li>Name: "Profile Comparison Agent"</li>
                            <li>Configure to compare job requirements with user profile</li>
                            <li>Connect knowledge base for profile retrieval if needed</li>
                        </ol>
                        <div class="code-snippet">
System Prompt:
Compare job requirements against user profile. Identify matched skills, missing qualifications, and calculate fitment percentage.
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 9: Add Fitment Calculation (Transform)</h3>
                        <ol>
                            <li>Add "Transform" node for fitment calculation</li>
                            <li>Formula: <code>(matched_required × 0.4) + (matched_preferred × 0.2) + (experience × 0.2) + (education × 0.2)</code></li>
                            <li>Calculate percentage: <code>(total_score / max_possible) × 100</code></li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 10: Add Match Identification (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>List matched skills and experience</li>
                            <li>Highlight strengths</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 11: Add Gap Identification (Transform)</h3>
                        <ol>
                            <li>Drag "Transform" node from <strong>Data</strong> section</li>
                            <li>List missing skills and qualifications</li>
                            <li>Identify experience gaps</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 12: Add Recommendation Logic</h3>
                        <ol>
                            <li>Drag "If / Else" node with multiple branches from <strong>Logic</strong> section</li>
                            <li><strong>Branch 1:</strong> ≥80% → "Recommend: Apply"</li>
                            <li><strong>Branch 2:</strong> 60-79% → "Consider Applying"</li>
                            <li><strong>Branch 3:</strong> <60% → "Improve Skills First"</li>
                            <li>Each branch can connect to appropriate Agent node or directly to End</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 13: Add End Node</h3>
                        <ol>
                            <li>Drag "End" node from <strong>Core</strong> section</li>
                            <li>Configure output: JSON with fitment, matches, gaps, recommendation</li>
                            <li>Connect from all recommendation branches</li>
                        </ol>
                    </div>
                    
                    <div class="instruction-step">
                        <h3>Step 14: Test and Publish</h3>
                        <ol>
                            <li>Use the <strong>Preview</strong> feature to test interactively</li>
                            <li>Test with valid job URL and profile</li>
                            <li>Test with invalid URL (error handling)</li>
                            <li>Test with inaccessible URL</li>
                            <li>Verify fitment calculation accuracy</li>
                            <li>Check recommendation logic</li>
                            <li>Use <strong>Evaluate</strong> to run trace graders if needed</li>
                            <li>Click <strong>Publish</strong> when ready to create a versioned workflow</li>
                            <li>Deploy using workflow ID in ChatKit or Agent SDK code</li>
                        </ol>
                        <p style="margin-top: 10px; font-size: 0.8rem; color: #64748b;">
                            <strong>Reference:</strong> See <a href="https://platform.openai.com/docs/guides/agent-builder" target="_blank">Agent Builder Guide</a> for detailed node configuration.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function showWorkflow(workflowId, tabElement) {
            // Hide all workflows
            document.querySelectorAll('.workflow-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected workflow
            document.getElementById(workflowId).classList.add('active');
            
            // Add active class to clicked tab
            if (tabElement) {
                tabElement.classList.add('active');
            }
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function toggleInstructions(header) {
            const panel = header.closest('.instructions-panel');
            panel.classList.toggle('collapsed');
        }
        
        function zoomWorkflow(workflowId, scale) {
            const flow = document.getElementById('flow-' + workflowId);
            if (flow) {
                flow.style.transform = `scale(${scale})`;
                flow.style.transformOrigin = 'left center';
            }
        }
        
        // Add click handlers for nodes
        document.querySelectorAll('.node').forEach(node => {
            node.addEventListener('click', function() {
                const label = this.querySelector('.node-label').textContent;
                const type = this.querySelector('.node-type').textContent;
                alert(`${label}\n\nType: ${type}\n\nClick to configure this node in OpenAI Agent Builder.`);
            });
        });
    </script>
</body>
</html>